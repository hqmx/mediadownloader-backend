# ===========================================
# 프로덕션 환경 설정 (EC2)
# ===========================================

# 실행 환경
NODE_ENV=production

# 서버 포트
PORT=3000

# yt-dlp 바이너리 경로
YTDLP_PATH=/usr/local/bin/yt-dlp

# 임시 다운로드 디렉토리
TEMP_DIR=/tmp/mediadownloader

# 로깅 레벨
LOG_LEVEL=info

# 최대 파일 크기 (1GB)
MAX_FILE_SIZE=1073741824

# 동시 다운로드 제한
MAX_CONCURRENT_DOWNLOADS=3

# ===========================================
# SmartProxy 설정 (봇 감지 우회) ⭐ 필수
# ===========================================

# SmartProxy 활성화 (반드시 true)
SMARTPROXY_ENABLED=true

# SmartProxy 접속 정보 (실제 값으로 변경 필요)
SMARTPROXY_ENDPOINT=gate.smartproxy.com
SMARTPROXY_PORT=10000
SMARTPROXY_USERNAME=실제_사용자명_입력
SMARTPROXY_PASSWORD=실제_비밀번호_입력

# 프록시 설정
PROXY_TYPE=residential
PROXY_COUNTRY=us

# ===========================================
# 스텔스 브라우저 설정
# ===========================================

# Playwright 브라우저 폴백 사용 (yt-dlp 실패시 자동 전환)
USE_BROWSER_FALLBACK=true

# 헤드리스 모드 (서버에서는 반드시 true)
BROWSER_HEADLESS=true

# 인간 행동 시뮬레이션 (봇 감지 우회)
SIMULATE_HUMAN=true

# 쿠키 저장 및 재사용
SAVE_COOKIES=true

# ===========================================
# 성능 및 안정성 설정
# ===========================================

# 디버그 모드 (프로덕션에서는 false)
DEBUG_MODE=false

# 상세 로깅 (문제 해결시에만 true)
VERBOSE_LOGGING=false

# 통계 수집
COLLECT_STATS=true

# Playwright 타임아웃 (밀리초)
BROWSER_TIMEOUT=30000

# 프록시 연결 타임아웃 (밀리초) 
PROXY_TIMEOUT=10000

# ===========================================
# 보안 설정
# ===========================================

# CORS 허용 도메인 (실제 도메인으로 변경)
CORS_ORIGIN=https://mediadownloader.hqmx.net

# 쿠키 보안 설정
SECURE_COOKIES=true

# ===========================================
# YouTube 우회 추가 설정
# ===========================================

# 요청 간 최소 지연 (초)
MIN_REQUEST_DELAY=2

# 요청 간 최대 지연 (초)  
MAX_REQUEST_DELAY=6

# 최대 재시도 횟수
MAX_RETRIES=3

# 프록시 로테이션 간격 (요청 수)
PROXY_ROTATION_INTERVAL=10